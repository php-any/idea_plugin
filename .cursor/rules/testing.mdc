---
globs: *Test*.kt,*test*.kt
description: 测试开发规范和最佳实践
---

# 测试开发规范

## 测试框架

- 使用 IntelliJ Platform 测试框架
- 编写单元测试和集成测试
- 使用 MockK 进行 Kotlin 代码模拟
- 实现端到端测试

## 测试覆盖

- 为每个功能模块编写测试
- 测试 LSP 连接和通信
- 测试语法高亮功能
- 测试代码提示和跳转

## 测试数据

- 创建测试用的 DIY 语言文件
- 模拟 LSP 服务器响应
- 提供测试配置和设置
- 使用测试专用的 LSP 服务器

## 性能测试

- 测试插件启动时间
- 测试代码提示响应时间
- 测试内存使用情况
- 测试大文件处理性能

## 兼容性测试

- 测试不同 IntelliJ 版本
- 测试不同操作系统
- 测试不同 IDE (PyCharm, WebStorm 等)
- 测试不同 LSP 服务器版本

## 测试最佳实践

- 使用有意义的测试名称
- 遵循 AAA 模式 (Arrange, Act, Assert)
- 保持测试独立性和可重复性
- 定期运行测试套件
